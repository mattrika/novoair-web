<div class="h-full items-center gap-4 rounded-xl bg-white p-2 md:flex md:h-20">
    <form
        [formGroup]="flightForm"
        class="mt-20 h-full w-full items-center justify-around gap-5 rounded-xl border-2 border-gray-200 p-6 md:mt-0 md:flex md:h-16"
    >
        <div class="flex w-full flex-1 items-center justify-between">
            <div class="card flex justify-center">
                <p-select
                    [options]="groupedCities"
                    formControlName="from"
                    placeholder="Form"
                    [group]="true"
                    [dropdownIcon]="'none'"
                    class="max-w-36 border-none"
                >
                </p-select>
            </div>
            <i class="pi pi-arrow-up-right z-10 mx-3 -ml-5 mr-6 md:-ml-5 md:mr-12"></i>
            <div class="card flex justify-center">
                <p-select
                    [options]="groupedCities"
                    formControlName="to"
                    placeholder="To"
                    [group]="true"
                    [dropdownIcon]="'none'"
                    class="w-36 border-none"
                >
                </p-select>
            </div>
        </div>

        <div class="z-10 mb-2 border border-gray-300 md:mb-0 md:h-8"></div>

        <div class="justify mt-4 flex w-full flex-1 items-center justify-between md:mt-0">
            <p-datepicker
                formControlName="departure"
                placeholder="Departure"
                class="placeholder:text-black"
                styleClass="border-none"
            ></p-datepicker>
        </div>

        <div class="z-10 mb-2 border border-gray-300 md:mb-0 md:flex md:h-8"></div>
        <!-- <div
            class="justify ml-3 mt-4 flex w-1/2 items-center justify-between gap-5 sm:ml-0 md:mt-0"
        >
            <input
                type="number"
                formControlName="adults"
                class="h-10 w-20 rounded-md border-none outline-none"
                placeholder="Adults"
            />
            <input
                type="number"
                formControlName="children"
                class="h-10 w-20 rounded-md border-none outline-none"
                placeholder="Children"
            />
        </div> -->
        <!-- <div class="flex gap-4">
            <div class="flex items-center justify-center gap-2">
                <div class="text-lg text-[#595959]">Adults</div>
                <div>
                    <button
                        (click)="decrease('adults')"
                        [disabled]="adults === 0"
                        class="text-[#595959]"
                    >
                        -
                    </button>
                    <div class="text-[#595959]">{{ adults }}</div>
                    <button
                        (click)="increase('adults')"
                        [disabled]="totalGuests >= 9"
                        class="text-[#595959]"
                    >
                        +
                    </button>
                </div>
            </div>
            <div class="flex items-center justify-center">
                <div class="text-lg font-semibold">Childrens</div>
                <div>
                    <button (click)="decrease('adults')" [disabled]="adults === 0" class="">
                        -
                    </button>
                    <div class="">{{ adults }}</div>
                    <button (click)="increase('adults')" [disabled]="totalGuests >= 9" class="">
                        +
                    </button>
                </div>
            </div>
            <div class="flex items-center justify-center">
                <div class="text-lg font-semibold">Infants</div>
                <div>
                    <button (click)="decrease('adults')" [disabled]="adults === 0" class="">
                        -
                    </button>
                    <div class="">{{ adults }}</div>
                    <button (click)="increase('adults')" [disabled]="totalGuests >= 9" class="">
                        +
                    </button>
                </div>
            </div>
        </div> -->

        <!--  -->
        <div class="relative flex flex-1 justify-center">
            <div class="">
                <button (click)="toggleInputs()" class="flex text-gray-700">
                    Passengers <span class="ml-2">&#9662;</span>
                </button>
                <div
                    [ngClass]="{ hidden: !showInputs }"
                    class="absolute z-10 -ml-28 mt-2 flex min-w-64 flex-col gap-2 space-y-2 rounded-md border border-gray-300 bg-white p-4"
                >
                    <div class="flex items-center justify-between gap-4">
                        <div class="text-md text-[#595959]">
                            Adults <br />
                            <span class="text-sm text-gray-400">> 12 Years</span>
                        </div>
                        <div class="flex flex-row items-center justify-center gap-2">
                            <button
                                (click)="decrease('adults')"
                                [disabled]="adults === 0"
                                class="rounded px-[9px] text-gray-700"
                                [ngClass]="{
                                    'bg-gray-300': adults === 0,
                                    'btn-primary': totalGuests <= 9 && adults !== 0,
                                }"
                            >
                                -
                                <!-- <i class="pi-minus"></i> -->
                            </button>
                            <div class="text-[#595959]">{{ adults }}</div>

                            <button
                                (click)="increase('adults')"
                                [disabled]="totalGuests >= 9"
                                class="rounded px-[7px] text-white"
                                [ngClass]="{
                                    'bg-gray-300': totalGuests >= 9,
                                    'btn-primary': totalGuests < 9,
                                }"
                            >
                                +
                            </button>
                        </div>
                    </div>
                    <div class="flex items-center justify-between gap-4">
                        <div class="text-md text-[#595959]">
                            Children <br />
                            <span class="text-sm text-gray-400">2-12 Years</span>
                        </div>
                        <div class="flex flex-row items-center justify-center gap-2">
                            <button
                                (click)="decrease('children')"
                                [disabled]="children === 0"
                                class="rounded px-[9px] text-gray-700"
                                [ngClass]="{
                                    'bg-gray-300': children === 0,
                                    'btn-primary': totalGuests <= 9 && children !== 0,
                                }"
                            >
                                -
                                <!-- <i class="pi-minus"></i> -->
                            </button>
                            <div class="text-[#595959]">{{ children }}</div>

                            <button
                                (click)="increase('children')"
                                [disabled]="totalGuests >= 9"
                                class="rounded px-[7px] text-white"
                                [ngClass]="{
                                    'bg-gray-300': totalGuests >= 9,
                                    'btn-primary': totalGuests < 9,
                                }"
                            >
                                +
                            </button>
                        </div>
                    </div>
                    <div class="flex items-center justify-between gap-4">
                        <div class="text-md text-[#595959]">
                            Infants <br /><span class="text-sm text-gray-400"> < 2 Years</span>
                        </div>
                        <div class="flex flex-row items-center justify-center gap-2">
                            <button
                                (click)="decrease('infants')"
                                [disabled]="infants === 0"
                                class="rounded px-[9px] text-gray-700"
                                [ngClass]="{
                                    'bg-gray-300': infants === 0,
                                    'btn-primary': totalGuests <= 9 && infants !== 0,
                                }"
                            >
                                -
                                <!-- <i class="pi-minus"></i> -->
                            </button>
                            <div class="text-[#595959]">{{ infants }}</div>

                            <button
                                (click)="increase('infants')"
                                [disabled]="totalGuests >= 9"
                                class="rounded px-[7px] text-white"
                                [ngClass]="{
                                    'bg-gray-300': totalGuests >= 9,
                                    'btn-primary': totalGuests < 9,
                                }"
                            >
                                +
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--  -->

        <!-- <div class="">
            <button (click)="toggleInputs()" class="flex text-gray-700">
                Passengers <span class="ml-2">&#9662;</span>
            </button>
            <div [ngClass]="{ hidden: !showInputs }" class="relative flex">
                <div class="flex items-center justify-center gap-2">
                    <div class="text-lg text-[#595959]">Adults</div>
                    <div>
                        <button
                            (click)="decrease('adults')"
                            [disabled]="adults === 0"
                            class="text-[#595959]"
                        >
                            -
                        </button>
                        <div class="text-[#595959]">{{ adults }}</div>
                        <button
                            (click)="increase('adults')"
                            [disabled]="totalGuests >= 9"
                            class="text-[#595959]"
                        >
                            +
                        </button>
                    </div>
                </div>
                <div class="flex items-center justify-center gap-2">
                    <div class="text-lg text-[#595959]">Adults</div>
                    <div>
                        <button
                            (click)="decrease('adults')"
                            [disabled]="adults === 0"
                            class="text-[#595959]"
                        >
                            -
                        </button>
                        <div class="text-[#595959]">{{ adults }}</div>
                        <button
                            (click)="increase('adults')"
                            [disabled]="totalGuests >= 9"
                            class="text-[#595959]"
                        >
                            +
                        </button>
                    </div>
                </div>
                <div class="flex items-center justify-center gap-2">
                    <div class="text-lg text-[#595959]">Adults</div>
                    <div>
                        <button
                            (click)="decrease('adults')"
                            [disabled]="adults === 0"
                            class="text-[#595959]"
                        >
                            -
                        </button>
                        <div class="text-[#595959]">{{ adults }}</div>
                        <button
                            (click)="increase('adults')"
                            [disabled]="totalGuests >= 9"
                            class="text-[#595959]"
                        >
                            +
                        </button>
                    </div>
                </div>
            </div>
        </div> -->
    </form>
    <div>
        <div class="mb-7 mt-6 flex h-10 md:-mt-[75px]">
            <form [formGroup]="flightForm">
                <div class="mb z-50 flex flex-row items-center gap-1">
                    <div>
                        <input
                            pInputText
                            id="promocode"
                            class="h-10 w-32 flex-auto rounded-3xl border p-2 text-center"
                            autocomplete="off"
                            formControlName="promocode"
                            placeholder="Promo Code"
                            (input)="validatePromoCode()"
                        />
                        @if (promoCodeError) {
                            <p class="text-sm text-red-500">{{ promoCodeError }}</p>
                        }
                    </div>
                    <div
                        class="flex w-12 justify-end gap-2"
                        [ngClass]="{ '-mt-6': promoCodeError.length > 0 }"
                    >
                        <p-button
                            styleClass="pi pi-arrow-right btn-primary text-[15px] py-[9px] mt-[2px]"
                            (click)="visible = false"
                            [disabled]="!isPromoValid"
                        />
                    </div>
                </div>
                <!-- <div class="relative w-32 flex-auto">
                    <select
                        id="category"
                        name="category"
                        required
                        class="w-full appearance-none rounded-3xl border bg-white px-3 py-1 pr-6 text-gray-700 outline-none"
                    >
                        <option value="flexible" class="rounded-3xl">Flexible</option>
                        <option value="fixed ">Fixed</option>
                    </select>
                    <div
                        class="pointer-events-none absolute inset-y-0 right-2 flex items-center text-gray-600"
                    >
                        &#9662;
                    </div>
                </div> -->
            </form>
        </div>
        <div
            class="btn-primary mt-4 flex h-16 w-48 cursor-pointer items-center justify-center gap-2 rounded-full px-4 shadow-sm md:mt-0"
            (click)="searchFlights()"
        >
            <i class="pi pi-search"></i>
            <button type="button">Search Flights</button>
        </div>
    </div>
</div>

<!-- --------------------------- -->

<!-- <div class="p-4">
    <div class="mb-4 flex items-center">
        <div class="flex-1">
            <div class="text-lg font-semibold">Adults</div>
            <div class="text-sm text-gray-500">>12 Years</div>
        </div>
        <div class="flex items-center">
            <button
                (click)="decrease('adults')"
                [disabled]="adults === 0"
                class="rounded bg-gray-200 px-2 py-1 text-gray-700"
            >
                -
            </button>
            <div class="mx-2">{{ adults }}</div>
            <button
                (click)="increase('adults')"
                [disabled]="totalGuests >= 9"
                class="rounded bg-green-500 px-2 py-1 text-white"
            >
                +
            </button>
        </div>
    </div>
    <div class="mb-4 flex items-center">
        <div class="flex-1">
            <div class="text-lg font-semibold">Children</div>
            <div class="text-sm text-gray-500">2-12 Years</div>
        </div>
        <div class="flex items-center">
            <button
                (click)="decrease('children')"
                [disabled]="children === 0"
                class="rounded bg-gray-200 px-2 py-1 text-gray-700"
            >
                -
            </button>
            <div class="mx-2">{{ children }}</div>
            <button
                (click)="increase('children')"
                [disabled]="totalGuests >= 9"
                class="rounded bg-green-500 px-2 py-1 text-white"
            >
                +
            </button>
        </div>
    </div>
    <div class="flex items-center">
        <div class="flex-1">
            <div class="text-lg font-semibold">Infants</div>
            <div class="text-sm text-gray-500">2 Years</div>
        </div>
        <div class="flex items-center">
            <button
                (click)="decrease('infants')"
                [disabled]="infants === 0"
                class="rounded bg-gray-200 px-2 py-1 text-gray-700"
            >
                -
            </button>
            <div class="mx-2">{{ infants }}</div>
            <button
                (click)="increase('infants')"
                [disabled]="totalGuests >= 9"
                class="rounded bg-green-500 px-2 py-1 text-white"
            >
                +
            </button>
        </div>
    </div>
</div>

<div class="relative">
    <button
        (click)="toggleInputs()"
        class="rounded-md border border-gray-300 bg-white px-4 py-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
    >
        Passengers <span class="ml-2">&#9662;</span>
    </button>
    <div
        [ngClass]="{ hidden: !showInputs }"
        class="mt-2 space-y-2 rounded-md border border-gray-300 bg-white p-4"
    >
        <input
            type="text"
            placeholder="Input 1"
            class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
        <input
            type="text"
            placeholder="Input 2"
            class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
        <input
            type="text"
            placeholder="Input 3"
            class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
    </div>
</div> -->
